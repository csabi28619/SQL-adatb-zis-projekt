<!DOCTYPE html>
<html lang="hu">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Detekt√≠v J√°t√©k - Telep√≠t√©si √ötmutat√≥</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: #333;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        header {
            text-align: center;
            color: white;
            margin-bottom: 40px;
        }

        header h1 {
            font-size: 3em;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }

        header p {
            font-size: 1.2em;
            opacity: 0.9;
        }

        .card {
            background: white;
            border-radius: 15px;
            padding: 30px;
            margin-bottom: 30px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            transition: transform 0.3s ease;
        }

        .card:hover {
            transform: translateY(-5px);
        }

        .card h2 {
            color: #667eea;
            margin-bottom: 20px;
            font-size: 1.8em;
            border-bottom: 3px solid #667eea;
            padding-bottom: 10px;
        }

        .step {
            background: #f8f9fa;
            border-left: 4px solid #667eea;
            padding: 20px;
            margin: 20px 0;
            border-radius: 0 10px 10px 0;
        }

        .step h3 {
            color: #667eea;
            margin-bottom: 10px;
        }

        .code-container {
            position: relative;
            margin: 20px 0;
        }

        .code-block {
            background: #2d3748;
            color: #e2e8f0;
            padding: 20px;
            border-radius: 10px;
            overflow-x: auto;
            font-family: 'Courier New', monospace;
            font-size: 14px;
            line-height: 1.4;
            max-height: 400px;
            overflow-y: auto;
        }

        .copy-btn {
            position: absolute;
            top: 10px;
            right: 10px;
            background: #667eea;
            color: white;
            border: none;
            padding: 8px 15px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 12px;
            transition: background 0.3s ease;
        }

        .copy-btn:hover {
            background: #5a67d8;
        }

        .copy-btn.copied {
            background: #48bb78;
        }

        .download-btn {
            background: #48bb78;
            color: white;
            border: none;
            padding: 12px 25px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 16px;
            margin: 10px 5px;
            transition: background 0.3s ease;
            text-decoration: none;
            display: inline-block;
        }

        .download-btn:hover {
            background: #38a169;
        }

        .warning {
            background: #fed7d7;
            border: 1px solid #fc8181;
            color: #c53030;
            padding: 15px;
            border-radius: 8px;
            margin: 15px 0;
        }

        .info {
            background: #bee3f8;
            border: 1px solid #63b3ed;
            color: #2c5282;
            padding: 15px;
            border-radius: 8px;
            margin: 15px 0;
        }

        .feature-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }

        .feature-item {
            background: #f7fafc;
            padding: 20px;
            border-radius: 10px;
            border-left: 4px solid #667eea;
        }

        .feature-item h4 {
            color: #667eea;
            margin-bottom: 10px;
        }

        @media (max-width: 768px) {
            .container {
                padding: 10px;
            }
            
            header h1 {
                font-size: 2em;
            }
            
            .card {
                padding: 20px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>üïµÔ∏è Detekt√≠v J√°t√©k</h1>
            <p>Interakt√≠v nyomoz√°si j√°t√©k - Telep√≠t√©si √∫tmutat√≥ √©s SQL k√≥d</p>
        </header>

        <div class="card">
            <h2>üìã J√°t√©k Le√≠r√°sa</h2>
            <p>Ez egy interakt√≠v detekt√≠v j√°t√©k, ahol a j√°t√©kosnak egy csoport tagjai k√∂z√ºl kell megtal√°lnia a gyilkost. A j√°t√©k k√ºl√∂nb√∂z≈ë nyomokat, kik√©rdez√©seket √©s kapcsolatokat tartalmaz, amelyek seg√≠ts√©g√©vel a j√°t√©kos k√∂vetkeztet√©seket vonhat le.</p>
            
            <div class="feature-grid">
                <div class="feature-item">
                    <h4>üîç Gyan√∫s√≠tottak</h4>
                    <p>R√©szletes profilok szem√©lyes adatokkal, p√©nz√ºgyi helyzettel √©s gyan√∫s√≠t√°si szinttel</p>
                </div>
                <div class="feature-item">
                    <h4>üí¨ Kik√©rdez√©sek</h4>
                    <p>Detekt√≠vek √°ltal k√©sz√≠tett vallom√°sok hiteless√°gi pontsz√°mokkal</p>
                </div>
                <div class="feature-item">
                    <h4>ü§ù Kapcsolatok</h4>
                    <p>Tagok k√∂z√∂tti viszonyok √©s bizalmi szintek elemz√©se</p>
                </div>
                <div class="feature-item">
                    <h4>üìä Elemz√©sek</h4>
                    <p>Automatikus gyan√∫s√≠t√°si elemz√©sek √©s ellentmond√°sok felt√°r√°sa</p>
                </div>
            </div>
        </div>

        <div class="card">
            <h2>üóÑÔ∏è SQL Adatb√°zis K√≥d</h2>
            <p>M√°sold ki az al√°bbi SQL k√≥dot √©s futtasd le a MySQL adatb√°zisodban:</p>
            
            <div class="code-container">
                <button class="copy-btn" onclick="copyToClipboard('sql-code')">M√°sol√°s</button>
                <pre class="code-block" id="sql-code">-- Detekt√≠v J√°t√©k Adatb√°zis
-- Adatb√°zis l√©trehoz√°sa
CREATE DATABASE detectiveGame DEFAULT CHARACTER SET utf8 COLLATE utf8_hungarian_ci;

USE detectiveGame;

-- Tagok t√°bl√°ja
CREATE TABLE group_members (
    id INT PRIMARY KEY AUTO_INCREMENT,
    name VARCHAR(100) NOT NULL,
    age INT,
    height INT,
    hair_color VARCHAR(50),
    eye_color VARCHAR(50),
    occupation VARCHAR(100),
    years_in_group INT,
    hometown VARCHAR(100),
    has_access_to_secrets BOOLEAN DEFAULT FALSE,
    financial_status ENUM('poor', 'middle', 'wealthy'),
    personality_trait VARCHAR(100)
);

-- Detekt√≠vek t√°bl√°ja
CREATE TABLE detectives (
    id INT PRIMARY KEY AUTO_INCREMENT,
    name VARCHAR(100) NOT NULL,
    years_experience INT,
    birth_year INT,
    specialization VARCHAR(100),
    success_rate DECIMAL(5,2),
    agency VARCHAR(100)
);

-- Kik√©rdez√©sek t√°bl√°ja
CREATE TABLE interrogations (
    id INT PRIMARY KEY AUTO_INCREMENT,
    detective_id INT,
    member_id INT,
    statement TEXT,
    statement_type ENUM('accusation', 'suspicion', 'observation', 'defense', 'alibi'),
    credibility_score INT CHECK (credibility_score BETWEEN 1 AND 10),
    interrogation_date DATE,
    FOREIGN KEY (detective_id) REFERENCES detectives(id),
    FOREIGN KEY (member_id) REFERENCES group_members(id)
);

-- Kapcsolatok t√°bl√°ja
CREATE TABLE member_relationships (
    id INT PRIMARY KEY AUTO_INCREMENT,
    member_id INT,
    target_member_id INT,
    relationship_type ENUM('friend', 'enemy', 'neutral', 'suspicious'),
    trust_level INT CHECK (trust_level BETWEEN 1 AND 10),
    FOREIGN KEY (member_id) REFERENCES group_members(id),
    FOREIGN KEY (target_member_id) REFERENCES group_members(id)
);

-- Minta adatok besz√∫r√°sa
INSERT INTO group_members (name, age, height, hair_color, eye_color, occupation, years_in_group, hometown, has_access_to_secrets, financial_status, personality_trait) VALUES
('Kov√°cs J√°nos', 45, 175, 'barna', 'k√©k', 'K√∂nyvel≈ë', 8, 'Budapest', TRUE, 'middle', 'Megb√≠zhat√≥, prec√≠z'),
('Nagy M√°ria', 38, 162, 'sz≈ëke', 'z√∂ld', 'Marketing vezet≈ë', 5, 'Debrecen', TRUE, 'wealthy', 'Ambici√≥zus, hat√°rozott'),
('Szab√≥ P√©ter', 52, 180, '≈ësz', 'barna', 'IT szak√©rt≈ë', 12, 'Szeged', TRUE, 'poor', 'Introvert√°lt, titokzatos'),
('Horv√°th G√°bor', 41, 178, 'fekete', 'barna', '√úgyvezet≈ë', 12, 'P√©cs', TRUE, 'wealthy', 'Manipulat√≠v, hatalom√©hes'),
('Moln√°r Zsuzsanna', 29, 168, 'v√∂r√∂s', 'k√©k', '√ârt√©kes√≠t≈ë', 3, 'Gy≈ër', FALSE, 'middle', 'T√°rsas√°gkedvel≈ë, besz√©des'),
('Kiss √âva', 33, 165, 'barna', 'barna', 'Asszisztens', 6, 'Miskolc', FALSE, 'poor', 'Csendes, megfigyel≈ë'),
('Varga L√°szl√≥', 47, 183, 'sz√ºrke', 'k√©k', 'Biztons√°gi vezet≈ë', 9, 'Kecskem√©t', TRUE, 'middle', '√ìvatos, gyanakod√≥'),
('Papp Ildik√≥', 36, 170, 'sz≈ëke', 'z√∂ld', 'HR vezet≈ë', 7, 'Ny√≠regyh√°za', TRUE, 'wealthy', 'Diplomatikus, elemz≈ë');

INSERT INTO detectives (name, years_experience, birth_year, specialization, success_rate, agency) VALUES
('Balogh Tam√°s', 15, 1978, 'Gazdas√°gi b≈±ncselekm√©nyek', 87.50, 'Budapesti Rend≈ër-f≈ëkapit√°nys√°g'),
('Farkas Andrea', 12, 1981, 'Szem√©lyi biztons√°g', 92.30, 'Mag√°nnyomoz√≥ iroda'),
('T√≥th Zolt√°n', 20, 1973, 'Bels≈ë vizsg√°latok', 89.10, 'V√°llalati biztons√°gi oszt√°ly');

INSERT INTO interrogations (detective_id, member_id, statement, statement_type, credibility_score, interrogation_date) VALUES
(1, 1, 'P√©nteken este 8-kor m√©g az irod√°ban voltam, a k√∂nyvel√©st fejeztem be. Szab√≥ P√©ter is ott volt.', 'observation', 8, '2024-01-15'),
(1, 2, 'Horv√°th G√°bor az ut√≥bbi hetekben furcs√°n viselkedett, titokzatos telefonokat fogadott.', 'suspicion', 7, '2024-01-15'),
(2, 3, 'Igen, kor√°bban mentem el, de csak az√©rt, mert csal√°di programom volt.', 'defense', 5, '2024-01-16'),
(2, 4, 'A c√©g √©rdek√©ben mindig mindent megteszek. Ha valaki √°rul, az nem √©n vagyok.', 'defense', 4, '2024-01-16'),
(3, 5, 'A m√∫lt h√©ten l√°ttam Moln√°r Zsuzsann√°t egy ismeretlen f√©rfival besz√©lgetni a parkol√≥ban.', 'observation', 6, '2024-01-17'),
(3, 6, 'Nem √©rtek ezekhez a bonyolult √ºgyekhez, csak az asszisztensi munk√°mat v√©gzem.', 'defense', 9, '2024-01-17'),
(1, 7, 'Horv√°th G√°bor hozz√°f√©r√©se van minden rendszerhez, √©s mostan√°ban gyan√∫s leveleket √≠rt.', 'accusation', 9, '2024-01-18'),
(2, 8, '√âszrevettem, hogy Horv√°th G√°bor ismeretlen c√≠mekkel levelezett a m√∫lt h√≥napban.', 'suspicion', 7, '2024-01-18');

INSERT INTO member_relationships (member_id, target_member_id, relationship_type, trust_level) VALUES
(1, 3, 'friend', 8),
(2, 4, 'enemy', 3),
(3, 4, 'neutral', 5),
(4, 1, 'neutral', 6),
(5, 6, 'friend', 9),
(6, 5, 'friend', 9),
(7, 4, 'suspicious', 3),
(8, 4, 'suspicious', 4),
(1, 2, 'friend', 7),
(2, 1, 'friend', 7),
(3, 1, 'friend', 8),
(4, 2, 'enemy', 2),
(4, 7, 'neutral', 4),
(5, 1, 'neutral', 6),
(6, 1, 'friend', 8),
(7, 1, 'friend', 7),
(8, 1, 'neutral', 6),
(8, 2, 'friend', 8);

-- Hasznos lek√©rdez√©sek a j√°t√©khoz

-- 1. Gyan√∫s√≠tottak list√°ja gyan√∫s√≠t√°si szinttel
SELECT 
    name AS n√©v,
    age AS kor,
    occupation AS beoszt√°s,
    years_in_group AS √©vek_a_csoportban,
    has_access_to_secrets AS titkokhoz_hozz√°f√©r√©s,
    financial_status AS p√©nz√ºgyi_helyzet,
    personality_trait AS szem√©lyis√©gjegy,
    CASE 
        WHEN has_access_to_secrets = TRUE AND financial_status = 'poor' THEN 'NAGYON GYAN√öS'
        WHEN has_access_to_secrets = TRUE AND financial_status = 'middle' THEN 'GYAN√öS'
        WHEN has_access_to_secrets = TRUE AND financial_status = 'wealthy' THEN 'K√ñZEPESEN GYAN√öS'
        ELSE 'KEV√âSB√â GYAN√öS'
    END AS gyan√∫_szint
FROM group_members 
ORDER BY has_access_to_secrets DESC, FIELD(financial_status, 'poor', 'middle', 'wealthy');

-- 2. Kik√©rdez√©sek r√©szletesen
SELECT 
    gm.name AS kik√©rdezett_neve,
    d.name AS detekt√≠v_neve,
    i.statement AS √°ll√≠t√°s,
    i.statement_type AS √°ll√≠t√°s_t√≠pusa,
    i.credibility_score AS hiteless√©g,
    i.interrogation_date AS kik√©rdez√©s_d√°tuma
FROM interrogations i 
JOIN group_members gm ON i.member_id = gm.id 
JOIN detectives d ON i.detective_id = d.id 
ORDER BY i.interrogation_date, gm.name;

-- 3. Kapcsolatok elemz√©se
SELECT 
    gm1.name AS n√©v,
    gm2.name AS c√©l_tag_neve,
    mr.relationship_type AS kapcsolat_t√≠pusa,
    mr.trust_level AS bizalmi_szint
FROM member_relationships mr
JOIN group_members gm1 ON mr.member_id = gm1.id
JOIN group_members gm2 ON mr.target_member_id = gm2.id
ORDER BY gm1.name;

-- 4. Leggyanakv√≥bb szem√©lyek
SELECT 
    gm.name AS n√©v,
    COUNT(mr.target_member_id) AS gyan√∫s√≠t√°sok_sz√°ma,
    ROUND(AVG(mr.trust_level), 1) AS √°tlagos_bizalmi_szint
FROM group_members gm 
LEFT JOIN member_relationships mr ON gm.id = mr.target_member_id 
WHERE mr.relationship_type IN ('enemy', 'suspicious') OR mr.trust_level <= 5 
GROUP BY gm.id, gm.name 
HAVING COUNT(mr.target_member_id) > 0 
ORDER BY COUNT(mr.target_member_id) DESC, AVG(mr.trust_level) ASC;

-- MEGOLD√ÅS: HORV√ÅTH G√ÅBOR A GYILKOS!
-- Indokok:
-- 1. √úgyvezet≈ë poz√≠ci√≥ - teljes hozz√°f√©r√©s a titkokhoz
-- 2. Manipulat√≠v szem√©lyis√©g - hatalom√©hes
-- 3. Legalacsonyabb v√©delem hiteless√©ge (4/10)
-- 4. T√∂bben gyanakszanak r√° (Nagy M√°ria, Varga L√°szl√≥, Papp Ildik√≥)
-- 5. Ellens√©ges viszony Nagy M√°ri√°val (3/10 bizalom)
-- 6. Gyan√∫s viselked√©s: titokzatos telefonok, ismeretlen levelez√©s</pre>
            </div>
            
            <div style="text-align: center; margin: 20px 0;">
                <button class="download-btn" onclick="downloadSQL()">üì• SQL f√°jl let√∂lt√©se</button>
            </div>

            <div class="info">
                <strong>üí° Haszn√°lat:</strong> M√°sold ki a k√≥dot vagy t√∂ltsd le f√°jlk√©nt, majd futtasd le MySQL adatb√°zisodban. Ez l√©trehozza a teljes j√°t√©k adatb√°zist mintaadatokkal egy√ºtt.
            </div>
        </div>

        <div class="card">
            <h2>üöÄ Telep√≠t√©si √ötmutat√≥</h2>
            
            <div class="step">
                <h3>1. l√©p√©s: Szerver k√∂rnyezet</h3>
                <p>Sz√ºks√©ges komponensek:</p>
                <ul>
                    <li>Apache/Nginx webszerver</li>
                    <li>PHP 7.4 vagy √∫jabb</li>
                    <li>MySQL 5.7 vagy √∫jabb</li>
                    <li>XAMPP, WAMP vagy hasonl√≥ fejleszt≈ëi k√∂rnyezet</li>
                </ul>
            </div>

            <div class="step">
                <h3>2. l√©p√©s: Adatb√°zis l√©trehoz√°sa</h3>
                <p>Futtasd le a fenti SQL k√≥dot a MySQL adatb√°zisodban. Ez l√©trehozza:</p>
                <ul>
                    <li>A <code>detectiveGame</code> adatb√°zist</li>
                    <li>4 t√°bl√°t (group_members, detectives, interrogations, member_relationships)</li>
                    <li>Mintaadatokat a j√°t√©khoz</li>
                    <li>Hasznos lek√©rdez√©seket</li>
                </ul>
            </div>

            <div class="step">
                <h3>3. l√©p√©s: J√°t√©k logika</h3>
                <p>A j√°t√©k c√©lja megtal√°lni a gyilkost a k√∂vetkez≈ë nyomok alapj√°n:</p>
                <ul>
                    <li><strong>Gyan√∫s√≠tottak:</strong> Elemezd a szem√©lyes adatokat √©s gyan√∫s√≠t√°si szinteket</li>
                    <li><strong>Kik√©rdez√©sek:</strong> Figyeld a vallom√°sok hiteless√©g√©t</li>
                    <li><strong>Kapcsolatok:</strong> Vizsg√°ld a bizalmi szinteket</li>
                    <li><strong>Ellentmond√°sok:</strong> Keresd az inkonzisztenci√°kat</li>
                </ul>
            </div>

            <div class="warning">
                <strong>üéØ Megold√°s:</strong> A gyilkos <strong>Horv√°th G√°bor</strong>! √úgyvezet≈ë poz√≠ci√≥ja, manipulat√≠v szem√©lyis√©ge, alacsony v√©delem hiteless√©ge (4/10) √©s a t√∂bbsz√∂r√∂s gyan√∫s√≠t√°sok mind r√° mutatnak.
            </div>
        </div>

        <div class="card">
            <h2>üéÆ J√°t√©k Funkci√≥k</h2>
            
            <div class="feature-grid">
                <div class="feature-item">
                    <h4>üîç Gyan√∫s√≠tottak elemz√©se</h4>
                    <p>8 gyan√∫s√≠tott r√©szletes profilokkal, automatikus gyan√∫s√≠t√°si szint sz√°m√≠t√°ssal</p>
                </div>
                <div class="feature-item">
                    <h4>üí¨ Vallom√°sok √©rt√©kel√©se</h4>
                    <p>8 kik√©rdez√©s 3 detekt√≠vt≈ël, hiteless√°gi pontsz√°mokkal (1-10)</p>
                </div>
                <div class="feature-item">
                    <h4>ü§ù Kapcsolatok t√©rk√©pe</h4>
                    <p>18 kapcsolat a tagok k√∂z√∂tt bizalmi szintekkel √©s viszony t√≠pusokkal</p>
                </div>
                <div class="feature-item">
                    <h4>üìä Automatikus elemz√©sek</h4>
                    <p>SQL lek√©rdez√©sek a leggyanakv√≥bb szem√©lyek √©s ellentmond√°sok felt√°r√°s√°ra</p>
                </div>
            </div>
        </div>

        <div class="card">
            <h2>üîß Hibaelh√°r√≠t√°s</h2>
            
            <div class="step">
                <h3>Gyakori probl√©m√°k:</h3>
                <ul>
                    <li><strong>Karakterk√≥dol√°si hiba:</strong> Gy≈ëz≈ëdj meg r√≥la, hogy UTF-8 karakterk√≥dol√°st haszn√°lsz</li>
                    <li><strong>Adatb√°zis kapcsol√≥d√°si hiba:</strong> Ellen≈ërizd a MySQL szerver fut√°s√°t</li>
                    <li><strong>T√°bl√°k nem j√∂nnek l√©tre:</strong> Ellen≈ërizd a felhaszn√°l√≥i jogosults√°gokat</li>
                    <li><strong>Mintaadatok hi√°nyoznak:</strong> Futtasd le az INSERT utas√≠t√°sokat is</li>
                </ul>
            </div>

            <div class="info">
                <strong>üìû T√°mogat√°s:</strong> Ha probl√©m√°ba √ºtk√∂z√∂l, ellen≈ërizd a MySQL hibanapl√≥t √©s gy≈ëz≈ëdj meg r√≥la, hogy minden SQL utas√≠t√°s sikeresen lefutott.
            </div>
            <div class="vissza"><a href="index.html">Vissza a f≈ëoldalra</a></div>
        </div>
    </div>

    <script>
        function copyToClipboard(elementId) {
            const element = document.getElementById(elementId);
            const text = element.textContent;
            
            navigator.clipboard.writeText(text).then(function() {
                const btn = element.parentElement.querySelector('.copy-btn');
                const originalText = btn.textContent;
                btn.textContent = 'M√°solva!';
                btn.classList.add('copied');
                
                setTimeout(() => {
                    btn.textContent = originalText;
                    btn.classList.remove('copied');
                }, 2000);
            }).catch(function(err) {    
                const textArea = document.createElement('textarea');
                textArea.value = text;
                document.body.appendChild(textArea);
                textArea.select();
                document.execCommand('copy');
                document.body.removeChild(textArea);
                
                const btn = element.parentElement.querySelector('.copy-btn');
                const originalText = btn.textContent;
                btn.textContent = 'M√°solva!';
                btn.classList.add('copied');
                
                setTimeout(() => {
                    btn.textContent = originalText;
                    btn.classList.remove('copied');
                }, 2000);
            });
        }

        function downloadSQL() {
            const sqlContent = document.getElementById('sql-code').textContent;
            const element = document.createElement('a');
            element.setAttribute('href', 'data:text/plain;charset=utf-8,' + encodeURIComponent(sqlContent));
            element.setAttribute('download', 'detective_game_database.sql');
            element.style.display = 'none';
            document.body.appendChild(element);
            element.click();
            document.body.removeChild(element);
        }
    </script>
</body>
</html>
